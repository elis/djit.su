<svg xmlns="http://www.w3.org/2000/svg" width="1011.75" height="630">
<defs><marker id="arrow-filled" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6z" style="stroke: none; fill: black;"></path></marker><marker id="arrow-open" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6" style="stroke-width: 1; fill: none; stroke: black;"></path></marker></defs><rect width="45.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="32.75" y="39" style="text-anchor: middle; alignment-baseline: central;">App</text></g><rect width="45.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="572"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="32.75" y="591" style="text-anchor: middle; alignment-baseline: central;">App</text></g><path d="M32.75,58 v514" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="54" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="75.5" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="102.5" y="39" style="text-anchor: middle; alignment-baseline: central;">Repl</text></g><rect width="54" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="75.5" y="572"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="102.5" y="591" style="text-anchor: middle; alignment-baseline: central;">Repl</text></g><path d="M102.5,58 v514" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="96.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="629.75" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="678" y="39" style="text-anchor: middle; alignment-baseline: central;">WorkerAPI</text></g><rect width="96.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="629.75" y="572"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="678" y="591" style="text-anchor: middle; alignment-baseline: central;">WorkerAPI</text></g><path d="M678,58 v514" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="96.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="746.25" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="794.5" y="39" style="text-anchor: middle; alignment-baseline: central;">:Computer</text></g><rect width="96.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="746.25" y="572"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="794.5" y="591" style="text-anchor: middle; alignment-baseline: central;">:Computer</text></g><path d="M794.5,58 v514" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="79.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="902.25" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="942" y="39" style="text-anchor: middle; alignment-baseline: central;">:Server</text></g><rect width="79.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="902.25" y="572"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="942" y="591" style="text-anchor: middle; alignment-baseline: central;">:Server</text></g><path d="M942,58 v514" style="stroke-width: 1; fill: none; stroke: black;"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="67.625" y="83" style="text-anchor: middle; alignment-baseline: central;">Init</text></g><path d="M32.75,96 h69.75" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="390.25" y="121" style="text-anchor: middle; alignment-baseline: central;">Create new</text></g><path d="M102.5,134 h575.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="246.5" y="163" style="text-anchor: middle; alignment-baseline: central;">persistedState = replState()</text></g><path d="M102.5,149 C142.5,149 142.5,182 102.5,182" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="242.25" y="201" style="text-anchor: middle; alignment-baseline: central;">defaultPlugins = {prettier}</text></g><path d="M102.5,187 C142.5,187 142.5,220 102.5,220" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="263.5" y="239" style="text-anchor: middle; alignment-baseline: central;">presets = persistedState.presets</text></g><path d="M102.5,225 C142.5,225 142.5,258 102.5,258" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="280.5" y="277" style="text-anchor: middle; alignment-baseline: central;">defaultPresets = presets.reduce(...)</text></g><path d="M102.5,263 C142.5,263 142.5,296 102.5,296" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="395.25" y="315" style="text-anchor: middle; alignment-baseline: central;">presetsOptions = persistedStateToPresetsOptions(persistedState)</text></g><path d="M102.5,301 C142.5,301 142.5,334 102.5,334" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="352.75" y="353" style="text-anchor: middle; alignment-baseline: central;">envConfig = persistedStateToEnvConfig(persistedState)</text></g><path d="M102.5,339 C142.5,339 142.5,372 102.5,372" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="868.25" y="387" style="text-anchor: middle; alignment-baseline: central;">sendUnsentEmail</text></g><path d="M794.5,400 h147.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="868.25" y="425" style="text-anchor: middle; alignment-baseline: central;">newEmail</text></g><path d="M794.5,438 h147.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="868.25" y="463" style="text-anchor: middle; alignment-baseline: central;">reponse</text></g><path d="M942,476 h-147.5" style="stroke-width: 1; fill: none; stroke: black;" stroke-dasharray="7,4" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="868.25" y="501" style="text-anchor: middle; alignment-baseline: central;">downloadEmail</text></g><path d="M794.5,514 h147.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="868.25" y="539" style="text-anchor: middle; alignment-baseline: central;">deleteOldEmail</text></g><path d="M794.5,552 h147.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path></svg>